"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[644],{644:function(n,t,e){e.r(t),e.d(t,{default:function(){return C}});var r,a,i,u,o,c,s,p,l=e(439),f=e(87),h=e(689),d=e(791),m=e(168),g=e(444),v=e(128),x=g.ZP.form(r||(r=(0,m.Z)(["\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    position: relative;\n    text-transform: uppercase;\n"]))),b=g.ZP.input(a||(a=(0,m.Z)(["\n    width: 280px;\n    padding: 8px;\n    border: 2px solid grey;\n    border-radius: 4px;\n    font: inherit;\n\n    &:focus-visible {\n        outline-color: grey;\n    }\n"]))),Z=g.ZP.button(i||(i=(0,m.Z)(["\n    position: absolute;\n    right: -36px;\n    padding: 4px;\n    border: 2px solid grey;\n    border-radius: 4px;\n    background-color: transparent;\n\n    &:hover,\n    &:focus {\n      color: green;\n    }\n"]))),y=(0,g.ZP)(v.G4C)(u||(u=(0,m.Z)(["\n    width: 24px;\n    height: 24px;\n"]))),w=e(184),k=function(n){var t=n.searchParams,e=n.onSubmit,r=(0,d.useState)(t),a=(0,l.Z)(r,2),i=a[0],u=a[1];return(0,w.jsxs)(x,{onSubmit:function(n){n.preventDefault(),e(i.trim())},children:[(0,w.jsx)(b,{type:"text",value:i,onChange:function(n){return u(n.target.value)}}),(0,w.jsx)(Z,{type:"submit",children:(0,w.jsx)(y,{})})]})},P=e(544),j=g.ZP.main(o||(o=(0,m.Z)(["\n  padding: 20px;  \n"]))),S=g.ZP.ul(c||(c=(0,m.Z)(["\n    margin-top: 20px;   \n"]))),_=g.ZP.li(s||(s=(0,m.Z)(["\n    margin-bottom: 8px; \n"]))),E=(0,g.ZP)(f.rU)(p||(p=(0,m.Z)(["\n    color: black; \n\n    &:hover {\n        font-weight: bold;\n    }\n"]))),C=function(){var n,t=(0,f.lr)(),e=(0,l.Z)(t,2),r=e[0],a=e[1],i=null!==(n=r.get("name"))&&void 0!==n?n:"",u=(0,h.TH)(),o=(0,d.useState)(null),c=(0,l.Z)(o,2),s=c[0],p=c[1],m=(0,d.useState)(null),g=(0,l.Z)(m,2),v=g[0],x=g[1];return(0,d.useEffect)((function(){i?(0,P.Pv)(i).then((function(n){return p(n)})).catch((function(n){return x(n.message)})):p(null)}),[i]),(0,d.useEffect)((function(){v&&(a({}),p(null),setTimeout((function(){x(null)}),3e3))}),[v,a]),(0,w.jsxs)(j,{children:[(0,w.jsx)(k,{searchParams:i,onSubmit:function(n){a(""!==n?{name:n}:{})}}),s&&(0,w.jsx)(S,{children:s.map((function(n){return(0,w.jsx)(_,{children:(0,w.jsx)(E,{to:"".concat(n.id),state:{from:u},children:n.title})},n.id)}))}),v&&(0,w.jsx)("p",{children:v})]})}},544:function(n,t,e){e.d(t,{Bt:function(){return g},E3:function(){return f},Pv:function(){return p},wr:function(){return c},y:function(){return d}});var r=e(861),a=e(757),i=e.n(a),u=e(263),o="115b567d77b04428b1251a93b22d9778";function c(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function n(){var t,e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(o,"&page=1"),n.next=3,u.Z.get(t);case 3:return e=n.sent,n.abrupt("return",e.data.results);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function n(t){var e,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://api.themoviedb.org/3/search/movie?api_key=".concat(o,"&query=").concat(t,"&page=1"),n.next=3,u.Z.get(e);case 3:if(r=n.sent,0!==(a=r.data.results).length||!t){n.next=7;break}throw new Error("Search result not successful. Enter the correct movie name and repeat.");case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(o,"&language=en-US"),n.next=3,u.Z.get(e);case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"),n.next=3,u.Z.get(e);case 3:return r=n.sent,n.abrupt("return",r.data.cast);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function n(t){var e,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1"),n.next=3,u.Z.get(e);case 3:if(r=n.sent,0!==(a=r.data.results).length){n.next=7;break}throw new Error("We don't have any reviews for this movie.");case 7:return n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=644.478bd095.chunk.js.map