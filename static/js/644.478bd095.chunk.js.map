{"version":3,"file":"static/js/644.478bd095.chunk.js","mappings":"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","sources":["components/SearchBox/SearchBox.styled.jsx","components/SearchBox/SearchBox.jsx","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","services/api-movies-service.js"],"sourcesContent":["import styled from \"styled-components\";\nimport { HiSearch } from \"react-icons/hi\";\n\nexport const Wrapper = styled.form`\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    position: relative;\n    text-transform: uppercase;\n`;\n\nexport const Input = styled.input`\n    width: 280px;\n    padding: 8px;\n    border: 2px solid grey;\n    border-radius: 4px;\n    font: inherit;\n\n    &:focus-visible {\n        outline-color: grey;\n    }\n`;\n\nexport const SubmitButton = styled.button`\n    position: absolute;\n    right: -36px;\n    padding: 4px;\n    border: 2px solid grey;\n    border-radius: 4px;\n    background-color: transparent;\n\n    &:hover,\n    &:focus {\n      color: green;\n    }\n`;\n\nexport const Icon = styled(HiSearch)`\n    width: 24px;\n    height: 24px;\n`;","import { useState } from \"react\";\nimport {PropTypes} from \"prop-types\";\nimport { Wrapper, Input, SubmitButton, Icon } from \"components/SearchBox/SearchBox.styled\";\n\nexport const SearchBox = ({searchParams, onSubmit }) => {\n    const [value, setValue] = useState(searchParams);\n\n    const handleSudmit = (e) => {\n        e.preventDefault();\n        onSubmit(value.trim());\n    };\n\n    return (\n        <Wrapper onSubmit={handleSudmit}>    \n            <Input\n                type=\"text\"\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n            />\n            <SubmitButton type=\"submit\">\n                <Icon />\n            </SubmitButton>\n        </Wrapper>\n  );\n};\n\nSearchBox.propTypes = {\n    searchParams: PropTypes.string,\n    onSubmit: PropTypes.func.isRequired,\n};","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport const Container = styled.main`\n  padding: 20px;  \n`;\n\nexport const List = styled.ul`\n    margin-top: 20px;   \n`;\n\nexport const Item = styled.li`\n    margin-bottom: 8px; \n`;\n\nexport const StyledLink = styled(Link)`\n    color: black; \n\n    &:hover {\n        font-weight: bold;\n    }\n`;","import { useSearchParams } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { SearchBox } from \"components/SearchBox/SearchBox\";\nimport { fetchMoviesByName } from \"services/api-movies-service\";\nimport { Container, List, Item, StyledLink } from \"pages/Movies/Movies.styled\"; \n\n const Movies = () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const movieName = searchParams.get(\"name\") ?? \"\";\n    const location = useLocation();\n    \n    const [movies, setMovies] = useState(null);\n    const [error, setError] = useState(null);\n\n    const handleSubmit = (name) => {\n        const nextParams = name !== \"\" ? { name } : {};\n        setSearchParams(nextParams);\n    };\n\n    useEffect(() => {\n        if (!movieName) {\n            setMovies(null);\n            return;\n        }\n\n        fetchMoviesByName(movieName)\n            .then(movies => setMovies(movies))\n            .catch(error => setError(error.message))\n    }, [movieName]);\n\n    useEffect(() => {\n        if (error) {\n            setSearchParams({});\n            setMovies(null);\n            setTimeout(() => {setError(null) }, 3000);\n        }  \n    }, [error, setSearchParams]);\n    \n    return (\n        <Container>\n            <SearchBox searchParams={movieName} onSubmit={handleSubmit} />\n            {movies &&\n                <List>\n                    {movies.map((movie) => { \n                        return (\n                            <Item key={movie.id}>\n                                <StyledLink to={`${movie.id}`} state={{ from: location }}>\n                                    {movie.title}\n                                </StyledLink>\n                            </Item>\n                        )              \n                    })}  \n                </List>}\n            \n            {error && <p>{error}</p>}\n        </Container>\n    );\n};\n\nexport default Movies;","import axios from \"axios\";\n\nconst API_KEY='115b567d77b04428b1251a93b22d9778';\n\nexport async function fetchTrendingMovies () {  \n    const URL = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}&page=1`;\n    const response = await axios.get(URL);\n\n    return response.data.results;\n}\n\nexport async function fetchMoviesByName (query) {  \n    const URL = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}&page=1`;\n    const response = await axios.get(URL);\n    const results = response.data.results;\n\n    if (results.length === 0 && query) {\n      throw new Error(\"Search result not successful. Enter the correct movie name and repeat.\");\n    }\n\n    return results;\n}\n\nexport async function fetchMoiveByID(id) {\n    const URL = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(URL);\n\n    return response.data;\n}\n\nexport async function fetchCast(id) {\n    const URL = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(URL);\n\n    return response.data.cast;\n;\n}\n\nexport async function fetchReviews(id) {\n    const URL = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n    const response = await axios.get(URL);\n    const results = response.data.results;\n\n    if (results.length === 0) {\n      throw new Error(\"We don't have any reviews for this movie.\");\n    }\n    return results;\n;\n}"],"names":["Wrapper","styled","Input","SubmitButton","Icon","HiSearch","SearchBox","searchParams","onSubmit","useState","value","setValue","e","preventDefault","trim","type","onChange","target","Container","List","Item","StyledLink","Link","useSearchParams","setSearchParams","movieName","get","location","useLocation","movies","setMovies","error","setError","useEffect","fetchMoviesByName","then","catch","message","setTimeout","name","map","movie","to","id","state","from","title","API_KEY","fetchTrendingMovies","URL","axios","response","data","results","query","length","Error","fetchMoiveByID","fetchCast","cast","fetchReviews"],"sourceRoot":""}